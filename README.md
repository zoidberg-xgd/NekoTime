# 悬浮数字时钟 (Floating Digital Clock)

一款基于 Flutter 构建的桌面悬浮数字时钟，使用像素风格的 GIF 动图展示时间，支持 macOS、Windows 和 Linux。

![时钟截图](https://user-images.githubusercontent.com/86920182/209436903-0a6c1f5a-4ab6-454f-a37d-78a5d699f3df.png)

## ✨ 功能特性

- **动态 GIF 显示**：使用像素风 GIF 动画展示时间数字，生动有趣。
- **高度可定制化主题**：
  - 内置一款毛玻璃主题，开箱即用。
  - 支持通过 JSON 文件自定义主题，实现完全个性化；可创建 `solid`（纯色）、`blur`（毛玻璃）或 `transparent`（透明）三种类型。
  - 自动在应用支持目录创建 `themes` 文件夹，便于放置自定义主题。
- **丰富的显示设置**：
  - **缩放**：自由调整时钟大小。
  - **透明度**：控制窗口整体不透明度。
  - **显示秒**：可选择是否显示秒针。
- **窗口管理**：
  - **置顶显示**：可将窗口设置为总在最前。
  - **位置锁定**：防止意外拖动。
  - **无边框与阴影**：简洁的无边框设计，并可控制窗口阴影。
  - **Dock 栏隐藏 (macOS)**：作为 `LSUIElement` 运行，不在 Dock 栏显示图标，提供纯粹的桌面挂件体验。
- **系统托盘**：
  - 提供系统托盘图标，右键点击可快速访问所有设置菜单。
  - 菜单项支持中英文切换。
- **多语言**：支持简体中文和英文。

## 🚀 开始使用

### 环境要求

- Flutter 3.0 或更高版本
- 已根据 [Flutter Desktop 文档](https://docs.flutter.dev/desktop) 配置好相应平台的开发环境。

### 运行与构建

1. **获取依赖**
   ```bash
   flutter pub get
   ```

2. **运行应用** (以 macOS 为例)
   ```bash
   flutter run -d macos
   ```

3. **构建发行版** (以 macOS 为例)
   ```bash
   flutter build macos
   ```
   可执行文件将位于 `build/macos/Build/Products/Release/`。

## 🎨 自定义主题

应用启动时会在应用支持目录（例如 macOS 的 `~/Library/Application Support/digital_clock/themes`）下寻找以 `.json` 结尾的主题文件。每个文件描述一个主题。

你可以在该目录中新建 JSON 文件，参考下方示例来创建你的主题。

### 示例

```json
{
  "id": "sample_neon",
  "name": "Sample Neon",
  "kind": "solid",
  "borderRadius": 20,
  "paddingHorizontal": 24,
  "paddingVertical": 12,
  "backgroundColor": "#FF0A0A0A",
  "backgroundOpacityMultiplier": 0.85,
  "tintColor": "#FF00C2FF",
  "tintOpacityMultiplier": 0.12
}
```

### 字段说明

| 字段 | 类型 | 说明 |
| --- | --- | --- |
| `id` | `String` | 主题的唯一 ID，供配置引用。 |
| `name` | `String` | 在设置菜单中显示的名称。 |
| `kind` | `String` | 主题类型，可选值：`transparent`、`blur`、`solid`。 |
| `borderRadius` | `double` | 窗口圆角半径。 |
| `paddingHorizontal` | `double` | 内容区域的水平内边距。 |
| `paddingVertical` | `double` | 内容区域的垂直内边距。 |
| `blurSigmaX` / `blurSigmaY` | `double` | 毛玻璃效果的模糊半径（仅当 `kind` 为 `blur` 时有效）。 |
| `backgroundColor` | `String` | 背景颜色（Hex 格式，如 `#AARRGGBB` 或 `#RRGGBB`）。 |
| `backgroundOpacityMultiplier` | `double` | 背景色的不透明度乘数（0-1），会与全局透明度叠加。 |
| `tintColor` | `String` | 覆盖色（Hex 格式），可用于给毛玻璃或纯色背景染色。 |
| `tintOpacityMultiplier` | `double` | 覆盖色的不透明度乘数（0-1）。 |

修改或添加文件后，在 **设置** 弹窗或 **系统托盘菜单** 中点击 **“重新加载主题”** 即可立即生效。

## 📦 主要依赖

- `flutter_acrylic`: 实现窗口磨砂玻璃和透明效果。
- `window_manager`: 提供强大的跨平台窗口管理能力。
- `system_tray`: 用于创建和管理系统托盘图标及菜单。
- `provider`: 进行状态管理。
- `shared_preferences`: 持久化用户配置。

---

*This README was auto-generated by Cascade.*