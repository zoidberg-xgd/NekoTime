# æ‚¬æµ®æ•°å­—æ—¶é’Ÿ (Floating Digital Clock)

ä¸€æ¬¾åŸºäº Flutter æ„å»ºçš„æ¡Œé¢æ‚¬æµ®æ•°å­—æ—¶é’Ÿï¼Œä½¿ç”¨åƒç´ é£æ ¼çš„ GIF åŠ¨å›¾å±•ç¤ºæ—¶é—´ï¼Œæ”¯æŒ macOSã€Windows å’Œ Linuxã€‚

![æ—¶é’Ÿæˆªå›¾](https://user-images.githubusercontent.com/86920182/209436903-0a6c1f5a-4ab6-454f-a37d-78a5d699f3df.png)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- **åŠ¨æ€ GIF æ˜¾ç¤º**ï¼šä½¿ç”¨åƒç´ é£ GIF åŠ¨ç”»å±•ç¤ºæ—¶é—´æ•°å­—ï¼Œç”ŸåŠ¨æœ‰è¶£ã€‚
- **é«˜åº¦å¯å®šåˆ¶åŒ–ä¸»é¢˜**ï¼š
  - å†…ç½®ä¸€æ¬¾æ¯›ç»ç’ƒä¸»é¢˜ï¼Œå¼€ç®±å³ç”¨ã€‚
  - æ”¯æŒé€šè¿‡ JSON æ–‡ä»¶è‡ªå®šä¹‰ä¸»é¢˜ï¼Œå®ç°å®Œå…¨ä¸ªæ€§åŒ–ï¼›å¯åˆ›å»º `solid`ï¼ˆçº¯è‰²ï¼‰ã€`blur`ï¼ˆæ¯›ç»ç’ƒï¼‰æˆ– `transparent`ï¼ˆé€æ˜ï¼‰ä¸‰ç§ç±»å‹ã€‚
  - è‡ªåŠ¨åœ¨åº”ç”¨æ”¯æŒç›®å½•åˆ›å»º `themes` æ–‡ä»¶å¤¹ï¼Œä¾¿äºæ”¾ç½®è‡ªå®šä¹‰ä¸»é¢˜ã€‚
- **ä¸°å¯Œçš„æ˜¾ç¤ºè®¾ç½®**ï¼š
  - **ç¼©æ”¾**ï¼šè‡ªç”±è°ƒæ•´æ—¶é’Ÿå¤§å°ã€‚
  - **é€æ˜åº¦**ï¼šæ§åˆ¶çª—å£æ•´ä½“ä¸é€æ˜åº¦ã€‚
  - **æ˜¾ç¤ºç§’**ï¼šå¯é€‰æ‹©æ˜¯å¦æ˜¾ç¤ºç§’é’ˆã€‚
- **çª—å£ç®¡ç†**ï¼š
  - **ç½®é¡¶æ˜¾ç¤º**ï¼šå¯å°†çª—å£è®¾ç½®ä¸ºæ€»åœ¨æœ€å‰ã€‚
  - **ä½ç½®é”å®š**ï¼šé˜²æ­¢æ„å¤–æ‹–åŠ¨ã€‚
  - **æ— è¾¹æ¡†ä¸é˜´å½±**ï¼šç®€æ´çš„æ— è¾¹æ¡†è®¾è®¡ï¼Œå¹¶å¯æ§åˆ¶çª—å£é˜´å½±ã€‚
  - **Dock æ éšè— (macOS)**ï¼šä½œä¸º `LSUIElement` è¿è¡Œï¼Œä¸åœ¨ Dock æ æ˜¾ç¤ºå›¾æ ‡ï¼Œæä¾›çº¯ç²¹çš„æ¡Œé¢æŒ‚ä»¶ä½“éªŒã€‚
- **ç³»ç»Ÿæ‰˜ç›˜**ï¼š
  - æä¾›ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡ï¼Œå³é”®ç‚¹å‡»å¯å¿«é€Ÿè®¿é—®æ‰€æœ‰è®¾ç½®èœå•ã€‚
  - èœå•é¡¹æ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢ã€‚
- **å¤šè¯­è¨€**ï¼šæ”¯æŒç®€ä½“ä¸­æ–‡å’Œè‹±æ–‡ã€‚

## ğŸš€ å¼€å§‹ä½¿ç”¨

### ç¯å¢ƒè¦æ±‚

- Flutter 3.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- å·²æ ¹æ® [Flutter Desktop æ–‡æ¡£](https://docs.flutter.dev/desktop) é…ç½®å¥½ç›¸åº”å¹³å°çš„å¼€å‘ç¯å¢ƒã€‚

### è¿è¡Œä¸æ„å»º

1. **è·å–ä¾èµ–**
   ```bash
   flutter pub get
   ```

2. **è¿è¡Œåº”ç”¨** (ä»¥ macOS ä¸ºä¾‹)
   ```bash
   flutter run -d macos
   ```

3. **æ„å»ºå‘è¡Œç‰ˆ** (ä»¥ macOS ä¸ºä¾‹)
   ```bash
   flutter build macos
   ```
   å¯æ‰§è¡Œæ–‡ä»¶å°†ä½äº `build/macos/Build/Products/Release/`ã€‚

## ğŸ¨ è‡ªå®šä¹‰ä¸»é¢˜ï¼ˆä¸»é¢˜åŒ…ï¼‰

åº”ç”¨æ”¯æŒä»¥â€œä¸»é¢˜åŒ…â€çš„æ–¹å¼åŠ è½½ä¸»é¢˜ï¼šåœ¨åº”ç”¨æ”¯æŒç›®å½•çš„ `themes/` ä¸‹åˆ›å»ºå­æ–‡ä»¶å¤¹ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹åŒ…å« `theme.json` ä¸å¯é€‰çš„ `assets/` é™æ€èµ„æºã€‚ä»å…¼å®¹æ—§ç‰ˆï¼šæ”¾åœ¨ `themes/` æ ¹ç›®å½•çš„ç‹¬ç«‹ `.json` æ–‡ä»¶ä¹Ÿä¼šè¢«è¯†åˆ«ã€‚

- ä¸»é¢˜ç›®å½•è·¯å¾„ä¼šåœ¨è®¾ç½®å¼¹çª—åº•éƒ¨æç¤ºï¼Œä¾‹å¦‚ macOSï¼š`~/Library/Application Support/digital_clock/themes`

### ç›®å½•ç»“æ„ç¤ºä¾‹
```
themes/
  my_theme/
    theme.json
    assets/
      bg.jpg
      overlay.png
      MyFont.ttf
```

### theme.json ç¤ºä¾‹
```json
{
  "id": "my_theme",
  "name": "æˆ‘çš„ä¸»é¢˜",
  "version": "1.0.0",
  "apiVersion": 1,
  "kind": "blur",
  "borderRadius": 16,
  "padding": { "preset": "cozy", "horizontal": 16, "vertical": 8 },
  "layout": { "alignment": "right" },
  "backgroundColor": "#101218",
  "backgroundOpacityMultiplier": 0.4,
  "tintColor": "#9E9E9E",
  "tintOpacityMultiplier": 0.12,
  "blur": { "sigmaX": 16, "sigmaY": 16 },
  "backgroundImage": "assets/bg.jpg",
  "overlayImage": "assets/overlay.png",
  "fontFamily": "MyFont",
  "fonts": [ "assets/MyFont.ttf" ],
  "digit": { "spacing": 8 }
}
```

### å­—æ®µè¯´æ˜ï¼ˆManifestï¼‰
- åŸºç¡€ï¼š`id`ã€`name`ã€`version`ã€`apiVersion`ã€`kind (transparent|blur|solid)`
- å¸ƒå±€ä¸é—´è·ï¼š
  - `padding`ï¼šæ•°å€¼ `horizontal/vertical` æˆ–é¢„è®¾ `preset (none|compact|cozy|comfortable)`
  - `layout.alignment`ï¼š`left|center|right`
  - `digit.spacing`ï¼ˆæˆ– `digitSpacing`ï¼‰ï¼šæ•°å­—é—´è·ï¼ˆåƒç´ ï¼‰
- è§†è§‰ï¼š
  - `backgroundColor`ã€`backgroundOpacityMultiplier`
  - `tintColor`ã€`tintOpacityMultiplier`
  - `blur.sigmaX`ã€`blur.sigmaY`ï¼ˆä»… kind=blur æœ‰æ•ˆï¼‰
  - `backgroundImage`ï¼ˆèƒŒæ™¯å›¾ï¼‰ã€`overlayImage`ï¼ˆå‰æ™¯å åŠ ï¼‰
- å­—ä½“ï¼š`fontFamily` ä¸ `fonts`ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰ï¼Œè¿è¡Œæ—¶åŠ¨æ€åŠ è½½

ä¿®æ”¹æˆ–æ·»åŠ ä¸»é¢˜åŒ…åï¼Œåœ¨è®¾ç½®å¼¹çª—æˆ–ç³»ç»Ÿæ‰˜ç›˜èœå•ç‚¹å‡»â€œé‡æ–°åŠ è½½ä¸»é¢˜â€å³å¯ç”Ÿæ•ˆã€‚

## ğŸ“¦ ä¸»è¦ä¾èµ–

- `flutter_acrylic`: å®ç°çª—å£ç£¨ç ‚ç»ç’ƒå’Œé€æ˜æ•ˆæœã€‚
- `window_manager`: æä¾›å¼ºå¤§çš„è·¨å¹³å°çª—å£ç®¡ç†èƒ½åŠ›ã€‚
- `system_tray`: ç”¨äºåˆ›å»ºå’Œç®¡ç†ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡åŠèœå•ã€‚
- `provider`: è¿›è¡ŒçŠ¶æ€ç®¡ç†ã€‚
- `shared_preferences`: æŒä¹…åŒ–ç”¨æˆ·é…ç½®ã€‚

---

*This README was auto-generated by Cascade.*