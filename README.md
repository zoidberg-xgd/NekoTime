# NekoTime - çŒ«é“ƒæ—¶é’Ÿ

> ä¸€ä¸ªç®€å•ã€å¯çˆ±çš„æ¡Œé¢æ‚¬æµ®æ—¶é’Ÿ

[![Platform](https://img.shields.io/badge/platform-macOS%20%7C%20Windows%20%7C%20Linux-blue)](https://flutter.dev)
[![Flutter](https://img.shields.io/badge/Flutter-3.24-02569B?logo=flutter)](https://flutter.dev)
[![License](https://img.shields.io/badge/license-MIT-green)](LICENSE)

<div align="center">
  <img src="docs/screenshots/demo.gif" alt="NekoTime Demo" width="600">
</div>

**NekoTime** æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„æ¡Œé¢æ‚¬æµ®æ—¶é’Ÿï¼Œæ”¯æŒ macOSã€Windows å’Œ Linuxã€‚å®ƒæ‹¥æœ‰å¼ºå¤§çš„ä¸»é¢˜ç³»ç»Ÿï¼Œä½ å¯ä»¥åƒç»™æ¸¸æˆæ‰“ MOD ä¸€æ ·è½»æ¾å®šåˆ¶å±äºè‡ªå·±çš„æ—¶é’Ÿæ ·å¼ã€‚

> ğŸ“± **æ³¨æ„**ï¼šæœ¬é¡¹ç›®ä¸“æ³¨äºæ¡Œé¢ä½“éªŒï¼Œä¸æ”¯æŒç§»åŠ¨ç«¯ï¼ˆAndroid/iOSï¼‰ã€‚

## âœ¨ ç‰¹æ€§

### ğŸ¨ ä¸»é¢˜
- **æ— éœ€ç¼–ç¨‹** - ä¿®æ”¹ JSON é…ç½®å³å¯ï¼Œç®€å•ç›´è§‚
- **ç´ æä¸°å¯Œ** - æ”¯æŒ GIF åŠ¨ç”»ã€å›¾ç‰‡ã€è‡ªå®šä¹‰å­—ä½“å’ŒèƒŒæ™¯
- **å³æ—¶é¢„è§ˆ** - ä¿®æ”¹åç‚¹å‡»é‡è½½ï¼Œç«‹é©¬çœ‹åˆ°æ•ˆæœ
- **å¼€ç®±å³ç”¨** - å†…ç½®å¤šæ¬¾ç²¾ç¾ä¸»é¢˜

### ğŸªŸ çª—å£æ§åˆ¶
- **å®Œå…¨é€æ˜** - æ”¯æŒç³»ç»Ÿçº§é€æ˜ï¼Œä¸é®æŒ¡å£çº¸
- **æ¯›ç»ç’ƒ** - æ¼‚äº®çš„èƒŒæ™¯æ¨¡ç³Šæ•ˆæœ
- **åˆ†å±‚ç®¡ç†** - å¯ä»¥ç½®é¡¶ï¼Œä¹Ÿå¯ä»¥æ²‰æµ¸åœ¨æ¡Œé¢ä¸Š
- **è‡ªç”±æ‹–æ‹½** - æƒ³æ”¾å“ªå°±æ”¾å“ª
- **é”å®šä¿æŠ¤** - é˜²æ­¢æ‰‹æ»‘è¯¯è§¦
- **é€æ˜åº¦** - éšæ„è°ƒèŠ‚é€æ˜åº¦ï¼ŒåŒå‡»è¿˜èƒ½éšè—

<div align="center">
  <img src="docs/screenshots/transparency-demo.gif" alt="é€æ˜åº¦è°ƒèŠ‚æ¼”ç¤º" width="600">
  <p><em>é€æ˜åº¦å®æ—¶è°ƒèŠ‚æ¼”ç¤º</em></p>
</div>

<div align="center">
  <img src="docs/screenshots/scale-demo.gif" alt="çª—å£ç¼©æ”¾æ¼”ç¤º" width="600">
  <p><em>çª—å£å°ºå¯¸è‡ªç”±ç¼©æ”¾</em></p>
</div>

### âš¡ æ€§èƒ½
- **è½»é‡** - å ç”¨æå°‘ç³»ç»Ÿèµ„æº
- **æµç•…** - åŠ¨ç”»å¹³æ»‘ï¼Œæ‹’ç»å¡é¡¿
- **æ™ºèƒ½** - è‡ªåŠ¨ç¼“å­˜èµ„æºï¼Œçœç”µåˆçœå¿ƒ

### ğŸŒ è¯­è¨€æ”¯æŒ
- æ”¯æŒç®€ä½“ä¸­æ–‡å’Œ Englishï¼Œè‡ªåŠ¨åˆ‡æ¢

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

**é€šç”¨è¦æ±‚**ï¼š
- **Flutter SDK** 3.0+
- æŒ‰ç…§ [Flutter å®˜æ–¹æ–‡æ¡£](https://docs.flutter.dev/get-started/install) é…ç½®å¯¹åº”å¹³å°å¼€å‘ç¯å¢ƒ

**å¹³å°ç‰¹å®šä¾èµ–**ï¼š

<details>
<summary><b>macOS</b></summary>

- macOS 10.14 æˆ–æ›´é«˜ç‰ˆæœ¬
- Xcode 12.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- CocoaPods

```bash
# å®‰è£… CocoaPodsï¼ˆå¦‚æœªå®‰è£…ï¼‰
sudo gem install cocoapods
```
</details>

<details>
<summary><b>Windows</b></summary>

- Windows 10 1809 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆå»ºè®® Windows 10 1903+ ä»¥è·å¾—æœ€ä½³é€æ˜æ•ˆæœï¼‰
- Visual Studio 2019 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆåŒ…å« C++ æ¡Œé¢å¼€å‘å·¥å…·ï¼‰
- å¯ç”¨å¼€å‘è€…æ¨¡å¼
</details>

<details>
<summary><b>Linux</b></summary>

#### ä¸‹è½½è¿è¡Œç‰ˆï¼ˆæ¨èï¼‰

ä» [Releases](https://github.com/zoidberg-xgd/NekoTime/releases) ä¸‹è½½æœ€æ–°ç‰ˆæœ¬åï¼š

```bash
# 1. è§£å‹
tar -xzf NekoTime-Linux-x64-v*.tar.gz
cd NekoTime-Linux-x64-*

# 2. å®‰è£…è¿è¡Œæ—¶ä¾èµ–ï¼ˆé¦–æ¬¡è¿è¡Œå¿…éœ€ï¼‰
sudo ./scripts/install_linux_deps.sh

# 3. å¯åŠ¨åº”ç”¨
./run_linux.sh
```

#### ä»æºç æ„å»º

**Ubuntu/Debian**ï¼š
```bash
sudo apt-get update
sudo apt-get install -y \
    clang cmake ninja-build pkg-config \
    libgtk-3-dev liblzma-dev \
    libayatana-appindicator3-dev
```

**Fedora**ï¼š
```bash
sudo dnf install -y \
    clang cmake ninja-build \
    gtk3-devel lzma-devel \
    libayatana-appindicator-gtk3-devel
```

**Arch Linux**ï¼š
```bash
sudo pacman -S base-devel gtk3 cmake ninja
```

#### å¸¸è§é—®é¢˜

âš ï¸ **é»‘å±æˆ– "No rendering surface available"**
```bash
# è¿è¡Œä¾èµ–å®‰è£…è„šæœ¬
sudo ./scripts/install_linux_deps.sh

# æˆ–æ‰‹åŠ¨å®‰è£…è¿è¡Œæ—¶åº“
sudo apt install libgtk-3-0 libegl1 libgl1 libgles2
```
</details>

### è¿è¡Œåº”ç”¨

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/zoidberg-xgd/NekoTime.git
cd NekoTime

# å®‰è£…ä¾èµ–
flutter pub get

# è¿è¡Œ (macOS ç¤ºä¾‹)
flutter run -d macos

# æ„å»ºå‘è¡Œç‰ˆ
flutter build macos --release
```

æ„å»ºäº§ç‰©ä½ç½®ï¼š
- **macOS**: `build/macos/Build/Products/Release/NekoTime.app`
- **Windows**: `build/windows/x64/runner/Release/`
- **Linux**: `build/linux/x64/release/bundle/`

ğŸ“˜ **è·¨å¹³å°æ”¯æŒè¯¦æƒ…**ï¼šæŸ¥çœ‹ [PLATFORM_SUPPORT.md](PLATFORM_SUPPORT.md) äº†è§£å„å¹³å°çš„è¯¦ç»†æ„å»ºå’Œéƒ¨ç½²è¯´æ˜ã€‚

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åŸºç¡€æ“ä½œ

| æ“ä½œ | è¯´æ˜ |
|------|------|
| **æ‹–åŠ¨** | é¼ æ ‡æŒ‰ä½æ—¶é’Ÿä»»æ„ä½ç½®æ‹–åŠ¨ï¼ˆéœ€è§£é”çŠ¶æ€ï¼‰|
| **éšè—** | åŒå‡»æ—¶é’Ÿçª—å£ / æ‰˜ç›˜èœå•é€‰æ‹©"éšè—" |
| **æ˜¾ç¤º** | ç‚¹å‡»æ‰˜ç›˜å›¾æ ‡ ğŸ• é€‰æ‹©"æ˜¾ç¤º" |
| **è®¾ç½®** | å³é”®æ‰˜ç›˜å›¾æ ‡ï¼Œé€‰æ‹©"Settings" |

### æ‰˜ç›˜èœå•åŠŸèƒ½

- **Theme** - å¿«é€Ÿåˆ‡æ¢å·²å®‰è£…ä¸»é¢˜
- **Layer** - çª—å£åˆ†å±‚ï¼ˆDesktop / Normal / Topï¼‰
- **Scale** - ç¼©æ”¾å€æ•°ï¼ˆ0.75x ~ 2.0xï¼‰
- **Opacity** - é€æ˜åº¦æ»‘å—ï¼ˆ10% ~ 100%ï¼‰
- **Lock Position** - é”å®š/è§£é”çª—å£ä½ç½®
- **Settings** - æ‰“å¼€è®¾ç½®å¯¹è¯æ¡†
- **Reload Themes** - é‡æ–°åŠ è½½ä¸»é¢˜åˆ—è¡¨
- **Quit** - é€€å‡ºåº”ç”¨

### è®¾ç½®å¯¹è¯æ¡†

- æŸ¥çœ‹å½“å‰é…ç½®
- è®¿é—®æ—¥å¿—æŸ¥çœ‹å™¨ï¼ˆæŸ¥çœ‹åº”ç”¨è¿è¡Œæ—¥å¿—ï¼‰
- æ‰“å¼€ä¸»é¢˜æ–‡ä»¶å¤¹
- ä¸€é”®æ‰“å¼€æ—¥å¿—ç›®å½•

## ğŸ¨ ä¸»é¢˜ç³»ç»Ÿ

### ä¸»é¢˜ç›®å½•ä½ç½®

ä¸»é¢˜å­˜å‚¨åœ¨åº”ç”¨æ”¯æŒç›®å½•çš„ `themes/` æ–‡ä»¶å¤¹ã€‚**å»ºè®®ä»è®¾ç½®å¯¹è¯æ¡†åº•éƒ¨å¤åˆ¶å®Œæ•´è·¯å¾„**ã€‚

| å¹³å° | è·¯å¾„ |
|------|------|
| **macOS (Sandbox)** | `~/Library/Containers/com.nekotime.app/Data/Library/Application Support/com.nekotime.app/themes/` |
| **macOS (é Sandbox)** | `~/Library/Application Support/NekoTime/themes/` |
| **Windows** | `%APPDATA%\com.nekotime.app\themes\` |
| **Linux** | `~/.local/share/com.nekotime.app/themes/` |

> **æ³¨æ„**ï¼šä» DMG æˆ– App Store å®‰è£…çš„ macOS ç‰ˆæœ¬ä½¿ç”¨ Sandbox æ¨¡å¼ï¼Œè·¯å¾„è¾ƒé•¿ã€‚

### åˆ›å»ºä¸»é¢˜

#### 1. ç›®å½•ç»“æ„

```
themes/
â””â”€â”€ my_awesome_theme/          # ä¸»é¢˜æ–‡ä»¶å¤¹ï¼ˆIDï¼‰
    â”œâ”€â”€ theme.json             # ä¸»é¢˜é…ç½®ï¼ˆå¿…éœ€ï¼‰
    â”œâ”€â”€ digits/                # æ•°å­—å›¾ç‰‡æ–‡ä»¶å¤¹
    â”‚   â”œâ”€â”€ 0.gif
    â”‚   â”œâ”€â”€ 1.gif
    â”‚   â”œâ”€â”€ ...
    â”‚   â””â”€â”€ 9.gif
    â””â”€â”€ assets/                # å…¶ä»–èµ„æºï¼ˆå¯é€‰ï¼‰
        â”œâ”€â”€ background.jpg
        â”œâ”€â”€ overlay.png
        â””â”€â”€ CustomFont.ttf
```

#### 2. é…ç½®ç¤ºä¾‹ (`theme.json`)

```json
{
  "id": "my_awesome_theme",
  "name": "My Awesome Theme",
  "version": "1.0.0",
  "apiVersion": 1,
  "kind": "blur",
  "borderRadius": 12,
  "padding": {
    "preset": "compact"
  },
  "layout": {
    "alignment": "center"
  },
  "backgroundColor": "#202020",
  "backgroundOpacityMultiplier": 0.5,
  "tintColor": "#9E9E9E",
  "tintOpacityMultiplier": 0.15,
  "blur": {
    "sigmaX": 16,
    "sigmaY": 16
  },
  "digit": {
    "spacing": 2,
    "gifPath": "digits",
    "format": "gif"
  }
}
```

#### 3. é…ç½®å­—æ®µè¯´æ˜

**åŸºç¡€ä¿¡æ¯**
- `id` - ä¸»é¢˜å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆå»ºè®®ä¸æ–‡ä»¶å¤¹åä¸€è‡´ï¼‰
- `name` - æ˜¾ç¤ºåç§°
- `version` - ä¸»é¢˜ç‰ˆæœ¬å·
- `apiVersion` - API ç‰ˆæœ¬ï¼ˆå½“å‰ä¸º 1ï¼‰

**å¤–è§‚æ ·å¼**
- `kind` - ä¸»é¢˜ç±»å‹ï¼š`transparent` | `blur` | `solid`
- `borderRadius` - è¾¹æ¡†åœ†è§’åŠå¾„ï¼ˆåƒç´ ï¼‰
- `backgroundColor` - èƒŒæ™¯é¢œè‰²ï¼ˆåå…­è¿›åˆ¶ï¼‰
- `backgroundOpacityMultiplier` - èƒŒæ™¯ä¸é€æ˜åº¦ç³»æ•°ï¼ˆ0.0-1.0ï¼‰
- `tintColor` - ç€è‰²é¢œè‰²
- `tintOpacityMultiplier` - ç€è‰²ä¸é€æ˜åº¦ç³»æ•°

**å¸ƒå±€é…ç½®**
- `padding.preset` - å†…è¾¹è·é¢„è®¾ï¼š`none` | `compact` | `cozy` | `comfortable`
- `padding.horizontal/vertical` - è‡ªå®šä¹‰æ°´å¹³/å‚ç›´å†…è¾¹è·
- `layout.alignment` - å¯¹é½æ–¹å¼ï¼š`left` | `center` | `right`

**æ•°å­—æ˜¾ç¤º**
- `digit.spacing` - æ•°å­—é—´è·ï¼ˆåƒç´ ï¼‰
  - æ¨èå€¼ï¼šç´§å‡‘ `0-2` / æ ‡å‡† `4-8` / å®½æ¾ `10-16`
- `digit.gifPath` - æ•°å­—å›¾ç‰‡æ–‡ä»¶å¤¹è·¯å¾„ï¼ˆç›¸å¯¹ä¸»é¢˜æ ¹ç›®å½•ï¼‰
- `digit.format` - å›¾ç‰‡æ ¼å¼ï¼š`gif` | `png` | `jpg` | `webp` | `bmp`
  - ç•™ç©ºåˆ™è‡ªåŠ¨æ£€æµ‹

**é«˜çº§é€‰é¡¹**
- `blur.sigmaX/sigmaY` - æ¨¡ç³Šç¨‹åº¦ï¼ˆä»… `kind: blur` ç”Ÿæ•ˆï¼‰
- `backgroundImage` - èƒŒæ™¯å›¾è·¯å¾„ï¼ˆç›¸å¯¹ä¸»é¢˜æ ¹ç›®å½•ï¼‰
- `overlayImage` - å‰æ™¯å åŠ å›¾è·¯å¾„
- `fontFamily` - è‡ªå®šä¹‰å­—ä½“æ—å
- `fonts` - å­—ä½“æ–‡ä»¶è·¯å¾„æ•°ç»„ï¼ˆTTF/OTFï¼‰

### å¿«é€Ÿé…ç½®æ¨¡æ¿

**æç®€ç´§å‡‘**
```json
{
  "borderRadius": 12,
  "padding": { "preset": "compact" },
  "digit": { "spacing": 0 }
}
```

**æ¯›ç»ç’ƒæ•ˆæœ**
```json
{
  "kind": "blur",
  "blur": { "sigmaX": 16, "sigmaY": 16 },
  "tintOpacityMultiplier": 0.15
}
```

### åº”ç”¨ä¸»é¢˜

1. å°†ä¸»é¢˜æ–‡ä»¶å¤¹å¤åˆ¶åˆ° `themes/` ç›®å½•
2. æ‰“å¼€æ‰˜ç›˜èœå• â†’ ç‚¹å‡» **"Reload Themes"**
3. æ‰˜ç›˜èœå• â†’ **Theme** â†’ é€‰æ‹©ä½ çš„ä¸»é¢˜

ğŸ“š **è¯¦ç»†ä¸»é¢˜å¼€å‘æŒ‡å—**ï¼š[themes/THEME_GUIDE.md](themes/THEME_GUIDE.md)

## ğŸ›  æŠ€æœ¯æ ˆ

| ç»„ä»¶ | è¯´æ˜ |
|------|------|
| **Flutter** | è·¨å¹³å° UI æ¡†æ¶ |
| **flutter_acrylic** | çª—å£æ¯›ç»ç’ƒå’Œé€æ˜æ•ˆæœ |
| **window_manager** | è·¨å¹³å°çª—å£ç®¡ç† |
| **system_tray** | ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡å’Œèœå• |
| **provider** | çŠ¶æ€ç®¡ç† |
| **shared_preferences** | é…ç½®æŒä¹…åŒ– |
| **path_provider** | æ–‡ä»¶è·¯å¾„è®¿é—® |

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.1.0 (2025-11-18)

**ğŸ› å…³é”® Bug ä¿®å¤**
- ä¿®å¤åº”ç”¨å¡æ­»/æ— å“åº”é—®é¢˜ï¼ˆç§»é™¤æ€§èƒ½ç“¶é¢ˆï¼‰
- ç§»é™¤æ¯ç§’è§¦å‘çš„å¤§é‡è°ƒè¯•æ—¥å¿—
- ä¼˜åŒ–çª—å£å±æ€§æ›´æ–°é€»è¾‘ï¼ˆä»…åœ¨é…ç½®å˜æ›´æ—¶æ‰§è¡Œï¼‰

**âš¡ æ€§èƒ½ä¼˜åŒ–**
- å‡å°‘ UI é‡å»ºæ¬¡æ•°
- æ™ºèƒ½ç¼“å­˜çª—å£é…ç½®çŠ¶æ€
- é™ä½ä¸»çº¿ç¨‹è´Ÿè½½

### v2.0.0

**ğŸ‰ é‡å¤§æ›´æ–°**
- ä¿®å¤ä¸»é¢˜åˆ‡æ¢åæ•°å­—æ¶ˆå¤±é—®é¢˜
- ä¼˜åŒ–æ˜¾ç¤ºç´§å‡‘åº¦ï¼ˆå‡å°‘ 20%-75% ç•™ç™½ï¼‰
- æ·»åŠ å®Œæ•´æ—¥å¿—ç³»ç»Ÿï¼ˆæ–‡ä»¶æ—¥å¿— + åº”ç”¨å†…æŸ¥çœ‹å™¨ï¼‰
- æ”¯æŒå¤šæ ¼å¼æ•°å­—å›¾ç‰‡ï¼ˆGIF/PNG/JPG/WebP/BMPï¼‰
- æ–°å¢åŒå‡»éšè—åŠŸèƒ½
- æ‰˜ç›˜èœå•å¿«é€Ÿæ˜¾ç¤º/éšè—
- å®Œå–„ä¸»é¢˜å¼€å‘æ–‡æ¡£

ğŸ“‹ **å®Œæ•´æ›´æ–°æ—¥å¿—**ï¼š[CHANGELOG.md](CHANGELOG.md)

## ğŸ§ª æµ‹è¯•

NekoTime åŒ…å«å®Œæ•´çš„æµ‹è¯•å¥—ä»¶ï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œç¨³å®šæ€§ã€‚

### å¿«é€Ÿæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
make test

# å¿«é€Ÿæµ‹è¯•ï¼ˆå¼€å‘æ—¶ï¼‰
make test-quick

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
make test-coverage
```

### æµ‹è¯•ç±»å‹

- **å•å…ƒæµ‹è¯•** - æµ‹è¯•æ ¸å¿ƒåŠŸèƒ½å’ŒæœåŠ¡
- **Widget æµ‹è¯•** - æµ‹è¯• UI ç»„ä»¶
- **ä»£ç åˆ†æ** - é™æ€ä»£ç æ£€æŸ¥
- **æ ¼å¼æ£€æŸ¥** - ä»£ç é£æ ¼éªŒè¯

### è¯¦ç»†æ–‡æ¡£

- ğŸ“˜ [æµ‹è¯•æŒ‡å—](TESTING.md) - å®Œæ•´çš„æµ‹è¯•æ–‡æ¡£å’Œæœ€ä½³å®è·µ
- ğŸ› ï¸ [å·¥å…·è„šæœ¬](tool/README.md) - æµ‹è¯•å’Œæ„å»ºè„šæœ¬è¯´æ˜

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¼€å‘è§„èŒƒ
- éµå¾ª Flutter å®˜æ–¹ä»£ç é£æ ¼
- æäº¤å‰è¿è¡Œ `make test` æˆ– `./tool/run_tests.sh`
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
- ä¿æŒæµ‹è¯•è¦†ç›–ç‡ â‰¥ 70%
- é‡å¤§åŠŸèƒ½è¯·å…ˆå¼€ Issue è®¨è®º

### å¼€å‘å·¥ä½œæµ

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/zoidberg-xgd/NekoTime.git
cd NekoTime

# 2. è·å–ä¾èµ–
make get

# 3. è¿è¡Œæµ‹è¯•
make test-quick

# 4. è¿è¡Œåº”ç”¨
make run-macos  # æˆ– run-windows / run-linux

# 5. æäº¤å‰æ£€æŸ¥
make pre-release
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

---

<p align="center">
  <strong>NekoTime - è®©æ—¶é—´æ›´å¯çˆ± ğŸ±â°</strong>
</p>